<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Wwise Unity Integration: Audio session interruptions (iOS)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="main.html">Wwise Unity Integration</a>&nbsp;&raquo;&nbsp;<a class="el" href="pg__platforms.html">Platform-Specific Information</a>
  </div>
</div>
<div class="contents">


<h1><a class="anchor" id="pg_audiosessionios">Audio session interruptions (iOS) </a></h1><h2><a class="anchor" id="sect_audiosessionios">
Overview</a></h2>
<p>The Integration supports two <a href="https://developer.apple.com/library/ios/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/AudioSessionCategoriesandModes/AudioSessionCategoriesandModes.html" target="_blank">audio session categories</a></p>
<ul>
<li><code>kAudioSessionCategory_SoloAmbientSound</code> (Default): When you use this category, audio from other apps is silenced. Your app's audio is also silenced by screen locking and by the Silent switch (called the Ring/Silent switch on the iPhone). However, when using SoloAmbientSound, an audio interruption, for example, an incoming phone call, or playing music with the Music app using a remote control, will seize the audio session from your app. To restore the audio later when you return to your app, you need to specify an interruption listener callback function to respond to the events of entering and exiting the audio interruption.</li>
</ul>
<ul>
<li><code>kAudioSessionCategory_AmbientSound:</code> AmbientSound allows your app's audio to be mixed with other apps. Any audio interruptions, for example, an incoming phone call, or playing music with the Music app using a remote control, will be mixed with your app's audio as well.</li>
</ul>
<p>See the API <code>ListenToAudioSessionInterruption()</code> in Wwise iOS SDK documentation for further information.</p>
<h2><a class="anchor" id="sect_cbremote">
The callback and the remote control</a></h2>
<p>Unlike phone calls and clock alarms that trigger both entering and exiting an interruption, remote control only triggers entering. Furthermore, the iOS SDK provides no means to differentiate between the interruption sources. To handle all types of interruptions under the SoloAmbientSound category, you need to resort to your app's UI to guide your users to restore the app's audio, with the help of the interruption listener callback.</p>
<h2><a class="anchor" id="sect_proc">
The procedure</a></h2>
<ol type="1">
<li>Ensure Unity's built-in audio is disabled. Check in the menu <b>Edit &gt; Project Settings &gt; Audio</b>, option Disable Audio.</li>
<li>Add a callback based on the prototype <code>AkCallbackManager.AudioInterruptionCallback()</code>. In this callback, prepare a certain UI mechanism for the user to restore audio later.</li>
</ol>
<p>In AkInitializer.cs, basic handling of all the audio session interruptions through a simple UI measure is shown. For the remote control, when a user presses the <code>Play</code> button on the remote control, the callback is called as the app's audio is interrupted. The callback then sets the GUI loop to wait for the user to tap the device screen to restore audio. After tapping the screen, the audio session is returned to the app and the app's audio resumes. Consequently, if the audio from the Music app is still playing at the time of tapping, it will be interrupted. </p>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Mar 18 16:05:20 2015 for Wwise Unity Integration by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
